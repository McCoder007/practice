(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[855],{8482:(e,l,s)=>{"use strict";s.d(l,{Wu:()=>i,ZB:()=>o,Zp:()=>a,aR:()=>n});var r=s(5155);s(2115);var t=s(3999);function a(e){let{className:l,...s}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",l),...s})}function n(e){let{className:l,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",l),...s})}function o(e){let{className:l,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",l),...s})}function i(e){let{className:l,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",l),...s})}},8768:(e,l,s)=>{Promise.resolve().then(s.bind(s,9035))},9035:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>j});var r=s(5155),t=s(2115),a=s(2355),n=s(3052),o=s(5273),i=s(7168),c=s(8482),d=s(3060),u=s(3999);function x(e){let{className:l,children:s,viewportRef:t,...a}=e;return(0,r.jsxs)(d.bL,{"data-slot":"scroll-area",className:(0,u.cn)("relative",l),...a,children:[(0,r.jsx)(d.LM,{ref:t,"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),(0,r.jsx)(m,{}),(0,r.jsx)(d.OK,{})]})}function m(e){let{className:l,orientation:s="vertical",...t}=e;return(0,r.jsx)(d.VM,{"data-slot":"scroll-area-scrollbar",orientation:s,className:(0,u.cn)("flex touch-none p-px transition-colors select-none","vertical"===s&&"h-full w-2.5 border-l border-l-transparent","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent",l),...t,children:(0,r.jsx)(d.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var h=s(2044),f=s(4805),p=s(8955),g=s(1514),b=s(5659),v=s(6466);function j(){let{language:e}=(0,v.o)(),[l,s]=(0,t.useState)(f.A.length),[d,u]=(0,t.useState)(!1),m=f.A.find(e=>e.day===l)||f.A[0];(0,t.useEffect)(()=>{(async()=>{await (0,g.fz)(),u(!0)})(),(0,g.K7)(l)},[]);let j=(0,t.useRef)(0),N=(0,t.useRef)(null),w=(0,t.useCallback)(()=>{if(!_.current||!d)return;let e=Date.now();if(e-j.current<200){if(N.current)return;N.current=setTimeout(()=>{y(),N.current=null},200);return}j.current=e,y()},[d]),y=()=>{if(!_.current)return void console.log("⚠️ Cannot process scroll: viewportRef is null");let e=_.current,l=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;if(console.log("\uD83D\uDCCA Scroll measurements:",{scrollTop:l,scrollHeight:s,clientHeight:r,"scrollable space":s-r}),s<=r)return void console.log("ℹ️ Content doesn't require scrolling");let t=Math.floor(l/(s-r)*100);console.log("\uD83D\uDCCF Scroll position tracked: ".concat(t,"%")),d?(0,g.aD)(t):console.log("⚠️ Analytics not initialized, skipping tracking")};(0,t.useEffect)(()=>{let e=_.current;if(!e)return;console.log("\uD83D\uDD0D Setting up scroll tracking on viewport element:",e),setTimeout(()=>{console.log("\uD83E\uDDEA Performing initial scroll position test"),y()},1e3);let l=()=>{console.log("\uD83D\uDCDC Scroll event detected"),w()};return e.addEventListener("scroll",l,{passive:!0}),()=>{console.log("\uD83E\uDDF9 Cleaning up scroll event listener"),e.removeEventListener("scroll",l),N.current&&(clearTimeout(N.current),N.current=null)}},[w]);let k=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"word_audio_played";(0,p.o1)(e),d&&(0,g.vS)(e,l)},_=(0,t.useRef)(null);(0,t.useLayoutEffect)(()=>{window.scrollTo({top:0,left:0}),_.current&&_.current.scrollTo({top:0,left:0})},[l]);let C=function(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.split(/(\s+)/).map((e,s)=>e.match(/\s+/)?(0,r.jsx)(t.Fragment,{children:e},s):(0,r.jsx)("span",{onClick:()=>k(e,l?"sentence_audio_played":"word_audio_played"),className:"cursor-pointer hover:underline",children:e},s))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.K,{}),(0,r.jsxs)("div",{className:"flex flex-col min-h-screen bg-blue-50",children:[(0,r.jsxs)("header",{className:"bg-gradient-to-r from-blue-50 via-blue-100 to-blue-50 p-2 border-b border-blue-200 sticky top-0 z-10",children:[(0,r.jsx)("div",{className:"flex items-center justify-center relative mb-1",children:(0,r.jsx)("div",{className:"flex flex-col items-center flex-grow",children:(0,r.jsx)("h1",{className:"text-lg font-semibold text-gray-800",children:"japanese"===e?"New Words | 新単語":"New Words | 生词"})})}),(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsxs)(i.$,{variant:"ghost",size:"icon",className:"text-gray-500 hover:bg-gray-200 rounded-full p-3 h-12 w-16",onClick:()=>{let e=l>1?l-1:f.A.length;s(e),(0,g.K7)(e,l),window.scrollTo(0,0),_.current&&_.current.scrollTo(0,0)},disabled:f.A.length<=1,children:[(0,r.jsx)(a.A,{className:"h-10 w-10"}),(0,r.jsx)("span",{className:"sr-only",children:"Previous Day"})]}),(0,r.jsxs)("div",{className:"bg-white text-blue-600 px-6 py-0.5 rounded-full text-sm font-medium shadow-sm mx-4 border border-gray-200 min-w-[120px] text-center",children:["Day ",l]}),(0,r.jsxs)(i.$,{variant:"ghost",size:"icon",className:"text-gray-500 hover:bg-gray-200 rounded-full p-3 h-12 w-16",onClick:()=>{let e=l<f.A.length?l+1:1;s(e),(0,g.K7)(e,l),window.scrollTo(0,0),_.current&&_.current.scrollTo(0,0)},disabled:f.A.length<=1,children:[(0,r.jsx)(n.A,{className:"h-10 w-10"}),(0,r.jsx)("span",{className:"sr-only",children:"Next Day"})]})]})]}),(0,r.jsx)(x,{className:"flex-1 p-4",viewportRef:_,children:(0,r.jsx)("div",{className:"space-y-4 pb-6",children:m.words.map((l,s)=>(0,r.jsx)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},layout:!0,children:(0,r.jsx)(c.Zp,{className:"overflow-hidden shadow-sm hover:shadow-md transition-shadow bg-white rounded-lg border border-gray-200",children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(i.$,{variant:"outline",size:"icon",className:"rounded-full bg-blue-100 hover:bg-blue-200 text-blue-600 border-blue-200 h-9 w-9",onClick:()=>k(l.word),children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Play pronunciation"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:C(l.word)}),(0,r.jsx)("div",{className:"text-blue-600 text-base mt-1",children:"japanese"===e?l.japanese:l.translation})]})]}),(0,r.jsx)("span",{className:"text-gray-500 bg-gray-100 px-2.5 py-0.5 rounded-full text-xs font-medium",children:l.partOfSpeech})]}),(0,r.jsx)("hr",{className:"border-gray-100 my-3"}),(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsxs)(i.$,{variant:"outline",size:"icon",className:"rounded-full bg-blue-100 hover:bg-blue-200 text-blue-600 border-blue-200 h-8 w-8 flex-shrink-0 mt-1",onClick:()=>k(l.example,"sentence_audio_played"),children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Play example"})]}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("p",{className:"text-gray-800 text-sm mb-2",children:C(l.example,!0)}),(0,r.jsx)("p",{className:"text-blue-600 text-sm",children:"japanese"===e?l.japaneseSentence:l.exampleTranslation})]})]})]})})},l.word))})},l)]})]})}}},e=>{var l=l=>e(e.s=l);e.O(0,[482,663,115,60,376,518,441,684,358],()=>l(8768)),_N_E=e.O()}]);