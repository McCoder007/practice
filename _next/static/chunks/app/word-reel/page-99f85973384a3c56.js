(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[486],{367:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var n=a(5155),l=a(2115),s=a(9946);let r=(0,s.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),i=(0,s.A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);var d=a(2355),c=a(3052),o=a(7168),h=a(1539),u=a(187),f=a(1514);let x=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #fa709a 0%, #fee140 100%)","linear-gradient(135deg, #0093E9 0%, #80D0C7 100%)","linear-gradient(135deg, #11998e 0%, #38ef7d 100%)","linear-gradient(135deg, #8E2DE2 0%, #4A00E0 100%)","linear-gradient(135deg, #ee9ca7 0%, #ffdde1 100%)","linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)","linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)","linear-gradient(135deg, #a855f7 0%, #6366f1 100%)","linear-gradient(135deg, #f97316 0%, #eab308 100%)","linear-gradient(135deg, #1e3a8a 0%, #7c3aed 100%)","linear-gradient(135deg, #f43f5e 0%, #fb923c 100%)","linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%)","linear-gradient(135deg, #059669 0%, #10b981 100%)","linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%)","linear-gradient(135deg, #f59e0b 0%, #ef4444 100%)"];function m(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=(7*t+13*e)%x.length,l=n===a?(n+1)%x.length:n;return x[l]}function g(){let[e,t]=(0,l.useState)("all"),[a,s]=(0,l.useState)(h.A.length),[g,p]=(0,l.useState)(0),[b,w]=(0,l.useState)(!1),[v,y]=(0,l.useState)(!1),[k,j]=(0,l.useState)(!1),[N,S]=(0,l.useState)([]),C=(0,l.useRef)(0),E=(0,l.useRef)(null),A=(0,l.useRef)([]),Y=(0,l.useCallback)(()=>{if("all"!==e)return(h.A.find(e=>e.day===a)||h.A[0]).words.map((e,t)=>({english:e.word,chinese:e.translation,englishSentence:e.example,chineseSentence:e.exampleTranslation,partOfSpeech:e.partOfSpeech,day:a,wordIndex:t}));{let e=[];return h.A.forEach(t=>{t.words.forEach((a,n)=>{e.push({english:a.word,chinese:a.translation,englishSentence:a.example,chineseSentence:a.exampleTranslation,partOfSpeech:a.partOfSpeech,day:t.day,wordIndex:n})})}),e}},[e,a])();(0,l.useEffect)(()=>{let e=[];Y.forEach((t,a)=>{let n=a>0?e[a-1]:-1;e.push(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=(7*t+13*e)%x.length;return n===a?(n+1)%x.length:n}(t.wordIndex,t.day-1,n))}),S(e),p(0)},[Y.length,e,a]),(0,l.useEffect)(()=>{(async()=>{await (0,f.fz)(),j(!0)})(),(0,f.K7)(a)},[]),(0,l.useEffect)(()=>(document.body.style.touchAction="none",document.body.style.overflow="hidden",()=>{document.body.style.touchAction="unset",document.body.style.overflow="unset"}),[]);let M=(0,l.useCallback)(()=>{A.current.forEach((e,t)=>{e&&(t===g?(e.style.transition="none",e.style.transform="translateY(0)",e.classList.remove("hidden")):t===(g+1)%Y.length?(e.style.transition="none",e.style.transform="translateY(100%)",e.classList.remove("hidden")):e.classList.add("hidden"))})},[g,Y.length]);(0,l.useEffect)(()=>{setTimeout(()=>{M()},0)},[M,Y.length]);let _=(0,l.useCallback)(e=>{v||(C.current=e,w(!0),A.current.forEach(e=>{e&&(e.style.transition="none")}))},[v]),L=(0,l.useCallback)(e=>{if(!b||v)return;let t=C.current-e;if(t<0)return;let a=t/window.innerHeight*100,n=A.current[g],l=(g+1)%Y.length,s=A.current[l];n&&s&&(n.style.transform="translateY(-".concat(a,"%)"),s.style.transform="translateY(".concat(100-a,"%)"))},[b,v,g,Y.length]),D=(0,l.useCallback)(e=>{if(!b||v)return;w(!1);let t=C.current-e,a=.15*window.innerHeight,n=A.current[g],l=(g+1)%Y.length,s=A.current[l];n&&s&&(A.current.forEach(e=>{e&&(e.style.transition="transform 0.3s ease-out")}),t>a?(y(!0),n.style.transform="translateY(-100%)",s.style.transform="translateY(0)",setTimeout(()=>{p(l),M(),y(!1)},300)):M())},[b,v,g,Y.length,M]),z=(0,l.useCallback)(e=>{e.preventDefault(),_(e.touches[0].clientY)},[_]),I=(0,l.useCallback)(e=>{e.preventDefault(),L(e.touches[0].clientY)},[L]),O=(0,l.useCallback)(e=>{e.preventDefault(),D(e.changedTouches[0].clientY)},[D]),T=(0,l.useCallback)(e=>{_(e.clientY)},[_]),B=(0,l.useCallback)(e=>{b&&L(e.clientY)},[b,L]),R=(0,l.useCallback)(e=>{b&&D(e.clientY)},[b,D]);(0,l.useEffect)(()=>{let e=E.current;if(e)return e.addEventListener("touchstart",z,{passive:!1}),e.addEventListener("touchmove",I,{passive:!1}),e.addEventListener("touchend",O,{passive:!1}),()=>{e.removeEventListener("touchstart",z),e.removeEventListener("touchmove",I),e.removeEventListener("touchend",O)}},[z,I,O]);let F=(0,l.useCallback)(()=>{let a="all"===e?"day":"all";t(a),p(0),"day"===a&&s(h.A.length)},[e]),K=(0,l.useCallback)(()=>{if(v||"all"===e)return;let t=a>1?a-1:h.A.length;s(t),p(0),(0,f.K7)(t,a)},[a,v,e]),$=(0,l.useCallback)(()=>{if(v||"all"===e)return;let t=a<h.A.length?a+1:1;s(t),p(0),(0,f.K7)(t,a)},[a,v,e]),q=(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"word_audio_played";(0,u.o)(e),k&&(0,f.vS)(e,t)},[k]),H=(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.split(/(\s+)/).map((e,a)=>e.match(/\s+/)?(0,n.jsx)(l.Fragment,{children:e},a):(0,n.jsx)("span",{onClick:()=>q(e,t?"sentence_audio_played":"word_audio_played"),className:"cursor-pointer hover:underline",children:e},a))},[q]),P=Y[g];return P?(void 0!==N[g]?m(P.wordIndex,P.day-1,N[g-1]||-1):m(0,0,-1),(0,n.jsxs)("div",{className:"flex flex-col h-screen w-screen overflow-hidden bg-black",children:[(0,n.jsxs)("header",{className:"bg-black/60 backdrop-blur-md p-2 border-b border-white/10 sticky top-0 z-20",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center relative mb-1",children:[(0,n.jsx)("div",{className:"flex flex-col items-center flex-grow",children:(0,n.jsx)("h1",{className:"text-lg font-semibold text-white",children:"Word Reel"})}),(0,n.jsx)(o.$,{variant:"ghost",size:"icon",className:"absolute right-2 text-white hover:bg-white/20 rounded-full",onClick:F,title:"all"===e?"Switch to Day Mode":"Switch to All Days Mode",children:"all"===e?(0,n.jsx)(r,{className:"h-5 w-5"}):(0,n.jsx)(i,{className:"h-5 w-5"})})]}),"day"===e&&(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsxs)(o.$,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full p-3 h-12 w-16",onClick:K,disabled:h.A.length<=1||v,children:[(0,n.jsx)(d.A,{className:"h-10 w-10"}),(0,n.jsx)("span",{className:"sr-only",children:"Previous Day"})]}),(0,n.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm text-white px-6 py-0.5 rounded-full text-sm font-medium shadow-sm mx-4 border border-white/20 min-w-[120px] text-center",children:["Day ",a]}),(0,n.jsxs)(o.$,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full p-3 h-12 w-16",onClick:$,disabled:h.A.length<=1||v,children:[(0,n.jsx)(c.A,{className:"h-10 w-10"}),(0,n.jsx)("span",{className:"sr-only",children:"Next Day"})]})]})]}),(0,n.jsx)("div",{ref:E,className:"flex-1 relative overflow-hidden",onMouseDown:T,onMouseMove:B,onMouseUp:R,onMouseLeave:R,children:Y.map((e,t)=>{let a=t>0&&void 0!==N[t-1]?N[t-1]:-1,l=void 0!==N[t]?m(e.wordIndex,e.day-1,a):m(e.wordIndex,e.day-1,-1);return(0,n.jsxs)("div",{ref:e=>{e&&(A.current[t]=e)},className:"word-reel-card absolute inset-0 flex flex-col justify-center items-center p-8 text-center will-change-transform",style:{background:l,transform:t===g?"translateY(0)":t===(g+1)%Y.length?"translateY(100%)":"translateY(0)"},children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/25 pointer-events-none"}),(0,n.jsxs)("div",{className:"relative z-10 w-full max-w-2xl space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-5",children:[(0,n.jsx)("h2",{onClick:()=>q(e.english),className:"text-[64px] font-bold text-white cursor-pointer hover:scale-105 transition-transform drop-shadow-2xl",style:{textShadow:"0 4px 12px rgba(0,0,0,0.5)"},children:H(e.english)}),(0,n.jsx)("p",{className:"text-[48px] text-[#FFD700] font-medium drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.5)"},children:e.chinese})]}),(0,n.jsx)("div",{className:"h-px bg-white/30 w-full max-w-md mx-auto my-[60px]"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("p",{onClick:()=>q(e.englishSentence,"sentence_audio_played"),className:"text-[28px] text-white cursor-pointer hover:scale-105 transition-transform drop-shadow-lg leading-relaxed",style:{textShadow:"0 2px 8px rgba(0,0,0,0.5)"},children:H(e.englishSentence,!0)}),(0,n.jsx)("p",{className:"text-[24px] text-[#B0B0B0] drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.5)"},children:e.chineseSentence})]}),(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)("span",{className:"inline-block bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-medium border border-white/30",children:e.partOfSpeech})})]}),t===g&&(0,n.jsxs)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white/50 text-sm flex flex-col items-center gap-1",children:[(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-bounce",children:(0,n.jsx)("path",{d:"M18 15l-6-6-6 6"})}),(0,n.jsx)("span",{children:"Swipe to continue"})]})]},"".concat(e.day,"-").concat(e.wordIndex,"-").concat(t))})})]})):(0,n.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,n.jsx)("p",{className:"text-gray-500",children:"No words available"})})}},6221:(e,t,a)=>{Promise.resolve().then(a.bind(a,367))}},e=>{var t=t=>e(e.s=t);e.O(0,[598,883,317,441,684,358],()=>t(6221)),_N_E=e.O()}]);