(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[486],{367:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var n=a(5155),s=a(2115),r=a(9946);let l=(0,r.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),i=(0,r.A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);var o=a(2355),c=a(3052),d=a(7168),h=a(1539),x=a(187),u=a(1514);let p=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #fa709a 0%, #fee140 100%)","linear-gradient(135deg, #0093E9 0%, #80D0C7 100%)","linear-gradient(135deg, #11998e 0%, #38ef7d 100%)","linear-gradient(135deg, #8E2DE2 0%, #4A00E0 100%)","linear-gradient(135deg, #ee9ca7 0%, #ffdde1 100%)","linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)","linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)","linear-gradient(135deg, #a855f7 0%, #6366f1 100%)","linear-gradient(135deg, #f97316 0%, #eab308 100%)","linear-gradient(135deg, #1e3a8a 0%, #7c3aed 100%)","linear-gradient(135deg, #f43f5e 0%, #fb923c 100%)","linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%)","linear-gradient(135deg, #059669 0%, #10b981 100%)","linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%)","linear-gradient(135deg, #f59e0b 0%, #ef4444 100%)"];function m(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=(7*t+13*e)%p.length,s=n===a?(n+1)%p.length:n;return p[s]}var f=a(5659),g=a(6466),w=a(1085);let y=e=>{let t=0;for(let a=0;a<e-1;a++)t+=h.A[a].words.length;return t},b=()=>y(h.A.length);function j(){let{language:e}=(0,g.o)(),[t,a]=(0,s.useState)("all"),[r,j]=(0,s.useState)(h.A.length),[v,k]=(0,s.useState)(!1),N=b(),[S,C]=(0,s.useState)(N),[Y,E]=(0,s.useState)(!1),[M,A]=(0,s.useState)(!1),[z,_]=(0,s.useState)(window.innerWidth),[,B]=(0,s.useState)(0),D=(0,s.useRef)(0),L=(0,s.useRef)(null),O=(0,s.useRef)(null),F=(0,s.useRef)(null),W=(0,s.useRef)(null),R=(0,s.useRef)(!1),I=(0,s.useRef)(N);(0,s.useEffect)(()=>{I.current=S},[S]);let T=(0,s.useMemo)(()=>{if("all"!==t)return(h.A.find(e=>e.day===r)||h.A[0]).words.map((e,t)=>({english:e.word,chinese:e.translation,japanese:e.japanese,englishSentence:e.example,chineseSentence:e.exampleTranslation,japaneseSentence:e.japaneseSentence,partOfSpeech:e.partOfSpeech,day:r,wordIndex:t}));{let e=[];return h.A.forEach(t=>{t.words.forEach((a,n)=>{e.push({english:a.word,chinese:a.translation,japanese:a.japanese,englishSentence:a.example,chineseSentence:a.exampleTranslation,japaneseSentence:a.japaneseSentence,partOfSpeech:a.partOfSpeech,day:t.day,wordIndex:n})})}),e}},[t,r,e]),K=(0,s.useMemo)(()=>"all"===t?y(r):0,[t,r]);(0,s.useEffect)(()=>{if("all"===t){let e=y(r);C(e),I.current=e}else C(0),I.current=0},[t,r]),(0,s.useLayoutEffect)(()=>{let e=O.current,t=F.current,a=W.current;e&&(e.style.transition="none",e.style.transform="translateY(0)"),t&&(t.style.transition="none",t.style.transform="translateY(100%)"),a&&(a.style.transition="none",a.style.transform="translateY(-100%)")},[S]),(0,s.useEffect)(()=>{(async()=>{try{await (0,u.fz)(),A(!0)}catch(e){console.error("Failed to initialize analytics:",e)}})(),(0,u.K7)(r)},[]),(0,s.useEffect)(()=>{let e=()=>{_(window.innerWidth)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{let e=document.body.style.touchAction,t=document.body.style.overflow;return document.body.style.touchAction="none",document.body.style.overflow="hidden",()=>{document.body.style.touchAction=e,document.body.style.overflow=t}},[]);let q=(0,s.useCallback)(e=>{if(Y)return;D.current=e,R.current=!0;let t=O.current,a=F.current,n=W.current;t&&(t.style.transition="none"),a&&(a.style.transition="none"),n&&(n.style.transition="none")},[Y]),P=(0,s.useCallback)(e=>{if(!R.current||Y)return;let t=D.current-e,a=Math.min(Math.abs(t)/window.innerHeight*100,100),n=O.current,s=F.current,r=W.current;t>0?(n&&(n.style.transform="translateY(-".concat(a,"%)")),s&&(s.style.transform="translateY(".concat(100-a,"%)")),r&&(r.style.transform="translateY(-100%)")):t<0?(n&&(n.style.transform="translateY(".concat(a,"%)")),r&&(r.style.transform="translateY(".concat(-100+a,"%)")),s&&(s.style.transform="translateY(100%)")):(n&&(n.style.transform="translateY(0)"),s&&(s.style.transform="translateY(100%)"),r&&(r.style.transform="translateY(-100%)"))},[Y]),$=(0,s.useCallback)(e=>{if(!R.current||Y)return;R.current=!1;let t=D.current-e,a=.15*window.innerHeight,n=O.current,s=F.current,r=W.current;n&&(n.style.transition="transform 0.3s ease-out",s&&(s.style.transition="transform 0.3s ease-out"),r&&(r.style.transition="transform 0.3s ease-out"),t>a&&T.length>0?(s&&(n.style.transform="translateY(-100%)",s.style.transform="translateY(0)"),E(!0),setTimeout(()=>{let e=(I.current+1)%T.length;n&&(n.style.transition="none"),s&&(s.style.transition="none"),r&&(r.style.transition="none"),C(e),I.current=e,B(e=>e+1),E(!1)},300)):t<-a&&T.length>0?(r&&(n.style.transform="translateY(100%)",r.style.transform="translateY(0)"),E(!0),setTimeout(()=>{let e=(I.current-1+T.length)%T.length;n&&(n.style.transition="none"),s&&(s.style.transition="none"),r&&(r.style.transition="none"),C(e),I.current=e,B(e=>e+1),E(!1)},300)):(n.style.transform="translateY(0)",s&&(s.style.transform="translateY(100%)"),r&&(r.style.transform="translateY(-100%)")))},[Y,T.length]),H=(0,s.useCallback)(e=>{e.touches.length>0&&q(e.touches[0].clientY)},[q]),G=(0,s.useCallback)(e=>{R.current&&e.touches.length>0&&(e.preventDefault(),P(e.touches[0].clientY))},[P]),U=(0,s.useCallback)(e=>{e.changedTouches.length>0&&$(e.changedTouches[0].clientY)},[$]);(0,s.useEffect)(()=>{let e=L.current;if(e)return e.addEventListener("touchstart",H,{passive:!0}),e.addEventListener("touchmove",G,{passive:!1}),e.addEventListener("touchend",U,{passive:!0}),()=>{e.removeEventListener("touchstart",H),e.removeEventListener("touchmove",G),e.removeEventListener("touchend",U)}},[H,G,U]);let J=(0,s.useCallback)(e=>{q(e.clientY)},[q]),Q=(0,s.useCallback)(e=>{R.current&&P(e.clientY)},[P]),V=(0,s.useCallback)(e=>{R.current&&$(e.clientY)},[$]),X=(0,s.useCallback)(()=>{if(R.current){R.current=!1;let e=O.current,t=F.current,a=W.current;e&&(e.style.transition="transform 0.3s ease-out",e.style.transform="translateY(0)"),t&&(t.style.transition="transform 0.3s ease-out",t.style.transform="translateY(100%)"),a&&(a.style.transition="transform 0.3s ease-out",a.style.transform="translateY(-100%)")}},[]),Z=(0,s.useCallback)(()=>{let e="all"===t?"day":"all";if("day"===e&&"all"===t){let e=[];h.A.forEach(t=>{t.words.forEach((a,n)=>{e.push({english:a.word,chinese:a.translation,japanese:a.japanese,englishSentence:a.example,chineseSentence:a.exampleTranslation,japaneseSentence:a.japaneseSentence,partOfSpeech:a.partOfSpeech,day:t.day,wordIndex:n})})});let t=I.current;e[t]&&j(e[t].day)}a(e)},[t]),ee=(0,s.useCallback)(()=>{if(Y||"all"===t)return;let e=r>1?r-1:h.A.length;j(e),(0,u.K7)(e,r)},[r,Y,t]),et=(0,s.useCallback)(()=>{if(Y||"all"===t)return;let e=r<h.A.length?r+1:1;j(e),(0,u.K7)(e,r)},[r,Y,t]),ea=(0,s.useCallback)(e=>{Y||"all"===t||(j(e),(0,u.K7)(e,r),k(!1))},[r,Y,t]),en=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"word_audio_played";try{(0,x.o)(e),M&&(0,u.vS)(e,t)}catch(e){console.error("Failed to play audio:",e)}},[M]),es=(0,s.useCallback)(e=>{let t=64;if(z>0?z<640?t=48:z<1024&&(t=56):t=48,e.length>10){let a=e.length-10,n=Math.max(20,.44*t),s=Math.max(.44,1-.07*a);return"".concat(Math.max(n,Math.round(t*s)),"px")}return"".concat(t,"px")},[z]),er=(0,s.useCallback)(e=>{let t=48;if(z>0?z<640?t=36:z<1024&&(t=42):t=36,e.length>6){let a=e.length-6,n=Math.max(18,.5*t),s=Math.max(.5,1-.08*a);return"".concat(Math.max(n,Math.round(t*s)),"px")}return"".concat(t,"px")},[z]),el=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;let a=e.trim().includes(" ");return e.split(/(\s+)/).map((r,l)=>r.match(/\s+/)?(0,n.jsx)(s.Fragment,{children:r},l):(0,n.jsx)("span",{onClick:n=>{n.stopPropagation(),en(a?e:r,t?"sentence_audio_played":"word_audio_played")},className:"cursor-pointer hover:underline",children:r},l))},[en]);if(!T||0===T.length)return(0,n.jsx)("div",{className:"flex items-center justify-center h-screen bg-black",children:(0,n.jsx)("p",{className:"text-gray-500",children:"No words available"})});let ei=(S-1+T.length)%T.length,eo=(S+1)%T.length,ec=T[S],ed=T[ei],eh=T[eo];if(!ec)return(0,n.jsx)("div",{className:"flex items-center justify-center h-screen bg-black",children:(0,n.jsx)("p",{className:"text-gray-500",children:"Loading..."})});let ex=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=(7*t+13*e)%p.length;return n===a?(n+1)%p.length:n}(ec.wordIndex,ec.day-1,-1),eu=m(ec.wordIndex,ec.day-1,-1),ep=ed?m(ed.wordIndex,ed.day-1,ex):eu,em=eh?m(eh.wordIndex,eh.day-1,ex):eu;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.K,{}),(0,n.jsxs)("div",{className:"flex flex-col h-screen w-screen overflow-hidden bg-black",children:[(0,n.jsxs)("header",{className:"bg-black/60 backdrop-blur-md p-2 border-b border-white/10 sticky top-0 z-20",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center relative mb-1",children:[(0,n.jsx)("div",{className:"flex flex-col items-center flex-grow",children:(0,n.jsx)("h1",{className:"text-lg font-semibold text-white",children:"japanese"===e?"Word Reel | 単語リール":"Word Reel | 单词卷轴"})}),(0,n.jsx)(d.$,{variant:"ghost",size:"icon",className:"absolute right-2 text-white hover:bg-white/20 rounded-full",onClick:Z,title:"all"===t?"Switch to Day Mode":"Switch to All Days Mode",children:"all"===t?(0,n.jsx)(l,{className:"h-5 w-5"}):(0,n.jsx)(i,{className:"h-5 w-5"})})]}),"day"===t&&(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsxs)(d.$,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full p-3 h-12 w-16",onClick:ee,disabled:h.A.length<=1||Y,children:[(0,n.jsx)(o.A,{className:"h-10 w-10"}),(0,n.jsx)("span",{className:"sr-only",children:"Previous Day"})]}),(0,n.jsxs)(w.cj,{open:v,onOpenChange:k,children:[(0,n.jsx)(w.CG,{asChild:!0,children:(0,n.jsxs)("button",{className:"bg-white/20 backdrop-blur-sm text-white px-6 py-0.5 rounded-full text-sm font-medium shadow-sm mx-4 border border-white/20 min-w-[120px] text-center hover:bg-white/30 transition-colors cursor-pointer",disabled:Y,children:["Day ",r]})}),(0,n.jsxs)(w.h,{side:"bottom",className:"bg-black/95 border-white/20",children:[(0,n.jsx)(w.Fm,{children:(0,n.jsx)(w.qp,{className:"text-white text-center",children:"Select Day"})}),(0,n.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-3 mt-6 max-h-[60vh] overflow-y-auto",children:h.A.map(e=>(0,n.jsxs)("button",{onClick:()=>ea(e.day),className:"px-4 py-3 rounded-lg text-sm font-medium transition-colors ".concat(r===e.day?"bg-white text-black":"bg-white/20 text-white hover:bg-white/30"),children:["Day ",e.day]},e.day))})]})]}),(0,n.jsxs)(d.$,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full p-3 h-12 w-16",onClick:et,disabled:h.A.length<=1||Y,children:[(0,n.jsx)(c.A,{className:"h-10 w-10"}),(0,n.jsx)("span",{className:"sr-only",children:"Next Day"})]})]})]}),(0,n.jsxs)("div",{ref:L,className:"flex-1 relative overflow-hidden",onMouseDown:J,onMouseMove:Q,onMouseUp:V,onMouseLeave:X,children:[(0,n.jsxs)("div",{ref:O,className:"absolute inset-0 flex flex-col justify-center items-center p-8 text-center will-change-transform",style:{background:eu,transform:"translateY(0)"},children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/25 pointer-events-none"}),(0,n.jsxs)("div",{className:"relative z-10 w-full max-w-2xl space-y-6 overflow-hidden px-4",children:[(0,n.jsxs)("div",{className:"space-y-5",children:[(0,n.jsx)("h2",{className:"font-bold text-white drop-shadow-2xl",style:{fontSize:es(ec.english),textShadow:"0 4px 12px rgba(0,0,0,0.5)",wordBreak:"keep-all",overflowWrap:"normal"},children:el(ec.english)}),(0,n.jsx)("p",{className:"text-[#FFD700] font-medium drop-shadow-lg",style:{fontSize:er("japanese"===e?ec.japanese:ec.chinese),textShadow:"0 2px 8px rgba(0,0,0,0.5)",wordBreak:"keep-all",overflowWrap:"normal"},children:"japanese"===e?ec.japanese:ec.chinese})]}),(0,n.jsx)("div",{className:"h-px bg-white/30 w-full max-w-md mx-auto my-[60px]"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("p",{onClick:()=>en(ec.englishSentence,"sentence_audio_played"),className:"text-[28px] text-white cursor-pointer hover:scale-105 transition-transform drop-shadow-lg leading-relaxed",style:{textShadow:"0 2px 8px rgba(0,0,0,0.5)"},children:ec.englishSentence}),(0,n.jsx)("p",{className:"text-[24px] text-[#B0B0B0] drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.5)"},children:"japanese"===e?ec.japaneseSentence:ec.chineseSentence})]}),(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)("span",{className:"inline-block bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-medium border border-white/30",children:ec.partOfSpeech})})]}),S===K&&(0,n.jsxs)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white/50 text-sm flex flex-col items-center gap-1",children:[(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-bounce",children:(0,n.jsx)("path",{d:"M18 15l-6-6-6 6"})}),(0,n.jsx)("span",{children:"Swipe to continue"})]})]}),ed&&(0,n.jsxs)("div",{ref:W,className:"absolute inset-0 flex flex-col justify-center items-center p-8 text-center will-change-transform",style:{background:ep,transform:"translateY(-100%)"},children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/25 pointer-events-none"}),(0,n.jsxs)("div",{className:"relative z-10 w-full max-w-2xl space-y-6 overflow-hidden px-4",children:[(0,n.jsxs)("div",{className:"space-y-5",children:[(0,n.jsx)("h2",{className:"font-bold text-white drop-shadow-2xl",style:{fontSize:es(ed.english),textShadow:"0 4px 12px rgba(0,0,0,0.5)",wordBreak:"keep-all",overflowWrap:"normal"},children:el(ed.english)}),(0,n.jsx)("p",{className:"text-[#FFD700] font-medium drop-shadow-lg",style:{fontSize:er("japanese"===e?ed.japanese:ed.chinese),textShadow:"0 2px 8px rgba(0,0,0,0.5)",wordBreak:"keep-all",overflowWrap:"normal"},children:"japanese"===e?ed.japanese:ed.chinese})]}),(0,n.jsx)("div",{className:"h-px bg-white/30 w-full max-w-md mx-auto my-[60px]"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("p",{onClick:()=>en(ed.englishSentence,"sentence_audio_played"),className:"text-[28px] text-white cursor-pointer hover:scale-105 transition-transform drop-shadow-lg leading-relaxed",style:{textShadow:"0 2px 8px rgba(0,0,0,0.5)"},children:ed.englishSentence}),(0,n.jsx)("p",{className:"text-[24px] text-[#B0B0B0] drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.5)"},children:"japanese"===e?ed.japaneseSentence:ed.chineseSentence})]}),(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)("span",{className:"inline-block bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-medium border border-white/30",children:ed.partOfSpeech})})]})]}),eh&&(0,n.jsxs)("div",{ref:F,className:"absolute inset-0 flex flex-col justify-center items-center p-8 text-center will-change-transform",style:{background:em,transform:"translateY(100%)"},children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/25 pointer-events-none"}),(0,n.jsxs)("div",{className:"relative z-10 w-full max-w-2xl space-y-6 overflow-hidden px-4",children:[(0,n.jsxs)("div",{className:"space-y-5",children:[(0,n.jsx)("h2",{className:"font-bold text-white drop-shadow-2xl",style:{fontSize:es(eh.english),textShadow:"0 4px 12px rgba(0,0,0,0.5)",wordBreak:"keep-all",overflowWrap:"normal"},children:el(eh.english)}),(0,n.jsx)("p",{className:"text-[#FFD700] font-medium drop-shadow-lg",style:{fontSize:er("japanese"===e?eh.japanese:eh.chinese),textShadow:"0 2px 8px rgba(0,0,0,0.5)",wordBreak:"keep-all",overflowWrap:"normal"},children:"japanese"===e?eh.japanese:eh.chinese})]}),(0,n.jsx)("div",{className:"h-px bg-white/30 w-full max-w-md mx-auto my-[60px]"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("p",{onClick:()=>en(eh.englishSentence,"sentence_audio_played"),className:"text-[28px] text-white cursor-pointer hover:scale-105 transition-transform drop-shadow-lg leading-relaxed",style:{textShadow:"0 2px 8px rgba(0,0,0,0.5)"},children:eh.englishSentence}),(0,n.jsx)("p",{className:"text-[24px] text-[#B0B0B0] drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.5)"},children:"japanese"===e?eh.japaneseSentence:eh.chineseSentence})]}),(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)("span",{className:"inline-block bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-medium border border-white/30",children:eh.partOfSpeech})})]})]})]})]})]})}},6221:(e,t,a)=>{Promise.resolve().then(a.bind(a,367))}},e=>{var t=t=>e(e.s=t);e.O(0,[845,735,610,288,441,684,358],()=>t(6221)),_N_E=e.O()}]);